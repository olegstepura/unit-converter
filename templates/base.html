<!DOCTYPE html>
<html lang="{{ session.get('language', 'en') }}">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{% block title %}
    
  {% endblock title %}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/nav.css') }}?v=2">
  {% block css %}
    
  {% endblock css %}
</head>
<body>
  <header>
    <nav>
      <a href="{{ url_for('home') }}">{{ _('Home') }}</a>
      <div class="language-switcher">
        <form method="POST" action="{{ url_for('set_language') }}">
          <select name="language" onchange="this.form.submit()">
            <option value="en" {% if session.get('language', 'en') == 'en' %}selected{% endif %}>English</option>
            <option value="ru" {% if session.get('language', 'en') == 'ru' %}selected{% endif %}>Русский</option>
            <option value="de" {% if session.get('language', 'en') == 'de' %}selected{% endif %}>Deutsch</option>
            <option value="zh" {% if session.get('language', 'en') == 'zh' %}selected{% endif %}>中文</option>
          </select>
        </form>
      </div>
    </nav>
  </header>
  {% block body %}
    
  {% endblock body %}
  
  <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
  <script>
    // Initialize Socket.IO connection with custom path
    const socket = io({ path: '/convert' });
    
    // Translations for JavaScript
    const translations = {
      'error_occurred': {{ _('An error occurred during conversion')|tojson|safe }},
      'enter_valid_number': {{ _('Please enter a valid number')|tojson|safe }}
    };
  </script>
  {% block scripts %}
  {% endblock scripts %}
</body>
</html>